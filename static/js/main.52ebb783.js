!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/trainwreck/",e(0)}([function(t,e,n){n(5),t.exports=n(10)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,r,i){var o=this;n(this,t),this.code=e,this.isDown=!1,this.isUp=!0,this.press=r,this.release=i,this.downHandler=function(t){t.keyCode===o.code&&(o.isUp&&o.press&&o.press(),o.isDown=!0,o.isUp=!1,t.preventDefault())},this.upHandler=function(t){t.keyCode===o.code&&(o.isDown&&o.release&&o.release(),o.isDown=!1,o.isUp=!0,t.preventDefault())},window.addEventListener("keydown",this.downHandler,!1),window.addEventListener("keyup",this.upHandler,!1)}return r(t,[{key:"close",value:function(){window.removeEventListener("keydown",this.downHandler),window.removeEventListener("keyup",this.upHandler)}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(16),f=r(u),c=n(3),l=r(c),h=function(t){function e(t,n,r,a,s){i(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.world=t,u.direction=a,u.speed=e.INITIAL_SPEED,u.isCrashed=!1,u.amEnemy=s;var c;return c=s?e.ENEMY_COLOR:e.PLAYER_COLOR,u.color=(0,f.default)(c).num(),u.colorDark=(0,f.default)(c).brighten(1).num(),u.addCart(),u.locomotive=u.children[0],u.locomotive.x=n*l.default.PIECE_WIDTH+l.default.PIECE_WIDTH*u.direction,u.locomotive.y=r*l.default.PIECE_HEIGHT,u.path=u.world.getPath(n,r,u.direction),u}return a(e,t),s(e,[{key:"move",value:function(){var t=this,n=Math.floor(this.locomotive.x/l.default.PIECE_WIDTH);if(this.isCrashed||void 0===this.path[n]){this.isCrashed||this.onCrash(),this.speed*=.92,this.locomotive.rotation+=Math.min(3,this.speed)*(Math.random()-.5)*.2,this.locomotive.x+=this.speed*Math.cos(this.locomotive.rotation),this.locomotive.y+=this.speed*Math.sin(this.locomotive.rotation);for(var r=1;r<this.children.length;r++){var i=this.children[r].x-this.children[r-1].x,o=this.children[r].y-this.children[r-1].y,a=e.CART_DELAY/Math.sqrt(i*i+o*o);i*=a,o*=a,this.children[r].x=this.children[r-1].x+i,this.children[r].y=this.children[r-1].y+o,this.children[r].rotation=Math.min(Math.max(Math.atan(o/i),-1),1)}}else{this.speed>e.INITIAL_SPEED&&(this.speed-=e.SPEED_CHANGE_STEP/4);var s=function(e){if(e<0)return 0;var n=l.default.PIECE_HEIGHT*t.path[Math.floor(e/l.default.PIECE_WIDTH)],r=l.default.PIECE_HEIGHT*t.path[Math.floor(e/l.default.PIECE_WIDTH)+1];Object.is(r,NaN)&&(r=n);var i=e%l.default.PIECE_WIDTH/l.default.PIECE_WIDTH;return n+i*(r-n)},u=function(t){if(t<0)return 0;var n=s(t-e.CART_WIDTH2),r=s(t+e.CART_WIDTH2);return Math.atan((r-n)/e.CART_WIDTH)};this.locomotive.x+=this.direction*this.speed,this.locomotive.y=s(this.locomotive.x),this.locomotive.rotation=u(this.locomotive.x);var f=Math.round(this.locomotive.x/l.default.PIECE_WIDTH),c=this.path[f];this.world.rails[f]&&this.world.rails[f][c]&&this.world.rails[f][c].isCart&&(this.addCart(),this.world.rails[f][c].isCart=!1,this.world.updateRailPiece(f,c));for(var h=1;h<this.children.length;h++){var d=this.children[h].x-this.children[h-1].x,p=this.children[h].y-this.children[h-1].y,b=e.CART_DELAY/Math.sqrt(d*d+p*p);d*=b,p*=b,this.children[h].x=this.children[h-1].x+d,this.children[h].y=this.children[h-1].y+p,this.children[h].rotation=u(this.children[h].x);var y=this.children[h].y-s(this.children[h].x);Math.abs(y)>e.CART_MAX_SKEW&&(this.children[h].y=s(this.children[h].x)+Math.sign(y)*e.CART_MAX_SKEW,y=Math.sign(y)*e.CART_MAX_SKEW),this.children[h].children[0].y=-e.CART_HEIGHT2-y}this.world.trains.children.forEach(function(n){n!==t&&(n.isCrashed||t.amEnemy!==n.amEnemy&&n.children.forEach(function(r){var i=r.x-t.locomotive.x,o=r.y-t.locomotive.y;if(Math.sqrt(i*i+o*o)<(t.amEnemy?.81*e.TRAIN_CRASH_DISTANCE:e.TRAIN_CRASH_DISTANCE)){var a=t.children.length-n.children.length,s=n.children.length-t.children.length,u=a<1&&s>=1||a>=1&&s<1;a<1?(t.setCarts(1),t.onCrash(),t.speed=Math.max(t.speed,n.speed),u?t.locomotive.rotation+=Math.min(1,t.speed)*Math.PI/4:t.speed*=-1):t.setCarts(a),s<1?(n.setCarts(1),n.onCrash(),n.speed=Math.max(t.speed,n.speed),u?n.locomotive.rotation+=Math.min(1,n.speed)*-Math.PI/4:n.speed*=-1):n.setCarts(s)}}))})}}},{key:"onCrash",value:function(){var t=this;this.isCrashed||(this.isCrashed=!0,this.amEnemy&&setTimeout(function(){t.world.trains.removeChild(t)},3e3))}},{key:"addCart",value:function(){var t=new PIXI.Sprite,n=new PIXI.Graphics;n.width=e.CART_WIDTH,n.height=e.CART_HEIGHT,n.beginFill(this.colorDark),n.drawRect(0,0,e.CART_WIDTH,e.CART_HEIGHT),n.x=-e.CART_WIDTH2,n.y=-e.CART_HEIGHT2,t.addChild(n);var r=new PIXI.Graphics;r.width=e.CART_WIDTH,r.height=e.CART_HEIGHT,r.beginFill(this.color),r.drawRect(0,0,e.CART_WIDTH,e.CART_HEIGHT),r.x=-e.CART_WIDTH2,r.y=-e.CART_HEIGHT2,t.addChild(r),t.x=-9999999*this.direction,t.y=0,this.addChild(t)}},{key:"removeCart",value:function(){this.removeChild(this.children[this.children.length-1])}},{key:"setCarts",value:function(t){for(;this.children.length<t;)this.addCart();for(;this.children.length>t;)this.removeCart()}},{key:"recalculatePath",value:function(t){void 0===t&&(t=Math.floor(this.children[0].x/l.default.PIECE_WIDTH)),this.world.getPath(t,this.path[t],this.direction,this.path)}},{key:"getCartCount",value:function(){return this.children.length}}]),e}(PIXI.Container);e.default=h,h.LEFT=-1,h.RIGHT=1,h.CART_WIDTH=30,h.CART_HEIGHT=10,h.CART_WIDTH2=h.CART_WIDTH/2,h.CART_HEIGHT2=h.CART_HEIGHT/2,h.CART_DELAY=32,h.CART_MAX_SKEW=h.CART_HEIGHT/3,h.INITIAL_SPEED=1,h.SPEED_CHANGE_STEP=.01,h.MIN_SPEED=0,h.MAX_SPEED=void 0,h.TRAIN_CRASH_DISTANCE=h.CART_WIDTH/3,h.ENEMY_COLOR="#247192",h.PLAYER_COLOR="#9FBC12"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(17),f=r(u),c=n(18),l=r(c),h=n(2),d=r(h),p=n(15),b=r(p),y=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.generator=new b.default,t.rails=t.generator.rails,t.displayed={from:0,to:0},t.map=new PIXI.Container,t.addChild(t.map),t.trains=new PIXI.Container,t.trains.x=e.PIECE_WIDTH2,t.trains.y=e.PIECE_HEIGHT2,t.addChild(t.trains),t.clamp(0,60),t.trains.addChild(new d.default(t,0,0,d.default.RIGHT,!1)),t}return a(e,t),s(e,[{key:"clamp",value:function(t,e){this.generator.clamp(t,e),this.display(t,e)}},{key:"display",value:function(t,n){var r=this;void 0===t&&(t=0),void 0===n&&(n=this.rails.length);for(var i=e.PIECE_WIDTH*t,o=e.PIECE_WIDTH*n,a=this.map.children.length-1;a>=0;a--)(this.map.children[a].x<i||this.map.children[a].x>o)&&this.map.removeChild(this.map.children[a]);var s=function(t){for(var n in t)if(!isNaN(parseInt(n,10))){var i=t[n];if(!i.isEmpty){var o=new PIXI.Graphics;o.x=a*e.PIECE_WIDTH,o.y=n*e.PIECE_HEIGHT,o.width=e.PIECE_WIDTH,o.height=e.PIECE_HEIGHT,r.displayRailPiece(o,i,n),r.map.addChild(o)}}};for(a=this.displayed.to;a<n;a++)s(this.rails[a]);for(a=t;a<this.displayed.from;a++)s(this.rails[a]);this.displayed.from=t,this.displayed.to=n}},{key:"displayRailPiece",value:function(t,n,r){t.clear();var i,o=!0,a=!1,s=void 0;try{for(var u,c=n.to[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var h=u.value;i=h-r,this.displayRailPieceSegment(t,e.PIECE_WIDTH2,e.PIECE_HEIGHT2,e.PIECE_WIDTH,e.PIECE_HEIGHT2+i*e.PIECE_HEIGHT2,f.default)}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var p=!0,b=!1,y=void 0;try{for(var v,g=n.from[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var m=v.value;i=m-r,this.displayRailPieceSegment(t,0,e.PIECE_HEIGHT2+i*e.PIECE_HEIGHT2,e.PIECE_WIDTH2,e.PIECE_HEIGHT2,l.default)}}catch(t){b=!0,y=t}finally{try{!p&&g.return&&g.return()}finally{if(b)throw y}}n.isCart&&(t.beginFill(e.EMPTY_CART_COLOR),t.lineStyle(),t.drawRect(e.PIECE_WIDTH2-d.default.CART_WIDTH2,e.PIECE_HEIGHT2-d.default.CART_HEIGHT2,d.default.CART_WIDTH,d.default.CART_HEIGHT))}},{key:"displayRailPieceSegment",value:function(t,n,r,i,o,a){var s=i-n;t.lineStyle(1,e.RAIL_COLOR);for(var u=0;u<e.SUBPIECES;u++)t.moveTo(n+(u-1)/e.SUBPIECES*s,r+a((u-1)/e.SUBPIECES)*(o-r)-e.TRACK_WIDTH2),t.lineTo(n+u/e.SUBPIECES*s,r+a(u/e.SUBPIECES)*(o-r)-e.TRACK_WIDTH2);t.endFill(),t.lineStyle(1,e.RAIL_COLOR);for(var f=0;f<e.SUBPIECES;f++)t.moveTo(n+(f-1)/e.SUBPIECES*s,r+a((f-1)/e.SUBPIECES)*(o-r)+e.TRACK_WIDTH2),t.lineTo(n+f/e.SUBPIECES*s,r+a(f/e.SUBPIECES)*(o-r)+e.TRACK_WIDTH2);t.endFill(),t.lineStyle(1,e.RAIL_COLOR);for(var c=0;c<e.SUBPIECES;c++)t.moveTo(n+c/e.SUBPIECES*s,r+a(c/e.SUBPIECES)*(o-r)-e.TRACK_TIE_WIDTH2),t.lineTo(n+c/e.SUBPIECES*s,r+a(c/e.SUBPIECES)*(o-r)+e.TRACK_TIE_WIDTH2);t.endFill()}},{key:"updateRailPiece",value:function(t,n){for(var r=t*e.PIECE_WIDTH,i=n*e.PIECE_HEIGHT,o=0;o<this.map.children.length;o++)this.map.children[o].x===r&&this.map.children[o].y===i&&this.displayRailPiece(this.map.children[o],this.rails[t][n],n)}},{key:"getPath",value:function(t,e,n,r){for(r||(r=[]),r[t]=e;t<this.rails.length;){var i=this.rails[t][e];if(!i){console.log("Wrong path!",t,e);break}var o=1===n?i.getTo():i.getFrom();if(void 0===o)break;if(t+=n,r[t]===o)break;r[t]=o,e=o}return r}},{key:"getTrain",value:function(){return this.trains.children[0]}},{key:"getEnemyTrains",value:function(){return this.trains.children.slice(1,this.trains.children.length)}}]),e}(PIXI.Container);e.default=y,y.PIECE_WIDTH=88,y.PIECE_HEIGHT=16,y.PIECE_WIDTH2=y.PIECE_WIDTH/2,y.PIECE_HEIGHT2=y.PIECE_HEIGHT/2,y.SUBPIECES=16,y.TRACK_WIDTH2=2,y.TRACK_TIE_WIDTH2=3,y.EMPTY_CART_COLOR=14757948,y.RAIL_COLOR=14757948},function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return v=t,g}}function o(t,e){try{return t(e)}catch(t){return v=t,g}}function a(t,e,n){try{t(e,n)}catch(t){return v=t,g}}function s(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,t!==r&&b(t,this)}function u(t,e,n){return new t.constructor(function(i,o){var a=new s(r);a.then(i,o),f(t,new p(e,n,a))})}function f(t,e){for(;3===t._81;)t=t._65;return s._10&&s._10(t),0===t._81?0===t._45?(t._45=1,void(t._54=e)):1===t._45?(t._45=2,void(t._54=[t._54,e])):void t._54.push(e):void c(t,e)}function c(t,e){y(function(){var n=1===t._81?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._81?l(e.promise,t._65):h(e.promise,t._65));var r=o(n,t._65);r===g?h(e.promise,v):l(e.promise,r)})}function l(t,e){if(e===t)return h(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=i(e);if(n===g)return h(t,v);if(n===t.then&&e instanceof s)return t._81=3,t._65=e,void d(t);if("function"==typeof n)return void b(n.bind(e),t)}t._81=1,t._65=e,d(t)}function h(t,e){t._81=2,t._65=e,s._97&&s._97(t,e),d(t)}function d(t){if(1===t._45&&(f(t,t._54),t._54=null),2===t._45){for(var e=0;e<t._54.length;e++)f(t,t._54[e]);t._54=null}}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function b(t,e){var n=!1,r=a(t,function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,h(e,t))});n||r!==g||(n=!0,h(e,v))}var y=n(22),v=null,g={};t.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return f(this,new p(t,e,n)),n}},function(t,e,n){"undefined"==typeof Promise&&(n(21).enable(),window.Promise=n(20)),n(24),Object.assign=n(19)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(8),s=r(a),u=n(11),f=r(u),c=n(12),l=r(c),h=n(9),d=r(h),p=n(7),b=r(p),y=n(1),v=r(y),g=function(){function t(e){var n=this;i(this,t),this.settings=e,this.stages=new s.default,this.topScore=new d.default;var r=function(){n.run||(n.run=!0,n.setuped&&n.gameLoop(),n.bumper.hide())};this.bumper=new b.default(r),this.stages.addStage("play",new f.default(this.stages,e)),this.stages.addStage("topScore",new l.default(this.stages,this.topScore,e)),this.stages.changeStage("play"),t.BUMPER?this.bumper.show():this.run=!0,new v.default(32,r)}return o(t,[{key:"start",value:function(){var t=this,e=function(){t.setuped=!0,t.renderer=PIXI.autoDetectRenderer(t.settings.width,t.settings.height,{antialias:!0}),document.body.appendChild(t.renderer.view),t.gameLoop=function(){t.stages.beforeRender(),t.renderer.render(t.stages.current),requestAnimationFrame(t.gameLoop)},t.run&&t.gameLoop()};e()}}]),t}();e.default=g,g.BUMPER=!1},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this.onEnd=e}return r(t,[{key:"show",value:function(){this.video=document.createElement("video"),this.video.src="media/bumper.mov",this.video.play(),this.onEnd&&this.video.addEventListener("ended",this.onEnd),document.body.appendChild(this.video)}},{key:"hide",value:function(){this.video&&(this.video.style.display="none")}}]),t}();e.default=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t),this.current=void 0,this.list=[]}return r(t,[{key:"addStage",value:function(t,e){this.list[t]=e}},{key:"changeStage",value:function(t){if(!this.list[t])throw new Error("Illegal stage name.");void 0!==this.current&&this.current.unload(),this.current=this.list[t],this.current.load()}},{key:"getStage",value:function(t){return this.list[t]}},{key:"beforeRender",value:function(){this.current.tick()}}]),t}();e.default=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t),window.localStorage.topScore||(window.localStorage.topScore=JSON.stringify([])),this.topScore=JSON.parse(window.localStorage.topScore)}return r(t,[{key:"addScore",value:function(t){this.topScore.push(t),this.topScore.sort(function(t,e){return parseInt(e,10)-parseInt(t,10)}),window.localStorage.topScore=JSON.stringify(this.topScore),window.ga&&ga("send","event","Game","score",{metric5:t})}},{key:"getTop",value:function(t){return this.topScore.slice(0,t)}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(6),o=r(i),a={width:960,height:144};window.app=new o.default(a),window.app.start()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),f=r(u),c=n(2),l=r(c),h=n(14),d=r(h),p=n(1),b=r(p),y=function(t){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.stages=t,r.settings=n,r}return a(e,t),s(e,[{key:"load",value:function(){this.camOffset=e.CAMERA_CENTER_PERC*this.settings.width,this.background=new PIXI.Graphics,this.background.beginFill(e.BACKGROUND_COLOR),this.background.drawRect(0,0,this.settings.width,this.settings.height),this.world=new f.default,this.world.y=this.settings.height/2,this.train=this.world.getTrain(),this.switchCursor=new d.default(this.train),this.switchCursor.y=this.settings.height/2,this.cartsText=new PIXI.Text("0",new PIXI.TextStyle({fontSize:40,fill:"#9FBC12"})),this.cartsText.x=16,this.cartsText.y=16,this.scoreText=new PIXI.Text("0",new PIXI.TextStyle({fontSize:21,fill:"#9FBC12"})),this.scoreText.x=64,this.scoreText.y=16,this.crashedText=new PIXI.Text("Crashed",new PIXI.TextStyle({fontSize:40,fill:"#247192"})),this.crashedText.x=this.settings.width/2,this.crashedText.y=this.settings.height/2,this.crashedText.anchor.x=.5,this.crashedText.anchor.y=.5,this.crashedText.visible=!1,this.crashedTextGuide=new PIXI.Text("Press space to continue",new PIXI.TextStyle({fontSize:14,fill:"#247192"})),this.crashedTextGuide.x=this.settings.width/2,this.crashedTextGuide.y=this.settings.height/2,this.crashedTextGuide.anchor.x=.5,this.crashedTextGuide.anchor.y=-.9,this.crashedTextGuide.visible=!1,this.quideText=new PIXI.Text("hold ◀ and ▶ to control train speed, ▲ and ▼ for railroad switches",new PIXI.TextStyle({fontSize:12,fill:"#9FBC12"})),this.quideText.x=this.settings.width/2,this.quideText.y=0,this.quideText.anchor.x=.5,this.quideText.anchor.y=-1,this.addChild(this.background),this.addChild(this.switchCursor),this.addChild(this.world),this.addChild(this.cartsText),this.addChild(this.scoreText),this.addChild(this.crashedText),this.addChild(this.crashedTextGuide),this.addChild(this.quideText),this.keyUp=new b.default(38),this.keyDown=new b.default(40),this.keyLeft=new b.default(37),this.keyRight=new b.default(39),this.keySpace=new b.default(32)}},{key:"tick",value:function(){this.world.trains.children.forEach(function(t){return t.move()}),this.train.isCrashed||this.switchCursor.recalculatePosition();var t=this.train.locomotive.x-this.camOffset;this.train.isCrashed&&(this.camOffset+=.8),t<0&&(t=0),t+=f.default.PIECE_WIDTH,this.world.x=-t,this.switchCursor.x=-t;var n=t+this.settings.width+5*f.default.PIECE_WIDTH,r=t-10*f.default.PIECE_WIDTH;if(n>this.world.displayed.to*f.default.PIECE_WIDTH||r<this.world.displayed.from*f.default.PIECE_WIDTH){var i=Math.floor(t/f.default.PIECE_WIDTH)-30,o=i+100,a=this.world.displayed.to;this.world.clamp(i,o),o>a&&(this.train.recalculatePath(a),this.switchCursor.displayPath())}this.train.isCrashed||(this.keyUp.isDown&&this.switchCursor.switchCursor(0),this.keyDown.isDown&&this.switchCursor.switchCursor(1),this.keyLeft.isDown&&(void 0===l.default.MIN_SPEED||this.train.speed>l.default.MIN_SPEED)&&(this.train.speed-=l.default.SPEED_CHANGE_STEP),this.keyRight.isDown&&(void 0===l.default.MAX_SPEED||this.train.speed<l.default.MAX_SPEED)&&(this.train.speed+=l.default.SPEED_CHANGE_STEP)),this.quideText.alpha>0&&(this.keyUp.isDown||this.keyDown.isDown||this.keyLeft.isDown||this.keyRight.isDown)&&(this.quideText.alpha-=.01),this.cartsText.text=this.train.getCartCount();var s=Math.floor(this.train.locomotive.x/(f.default.PIECE_WIDTH*e.SCORE_SPEED));if(this.scoreText.text=s,this.train.isCrashed&&(this.crashedText.visible=!0,this.crashedTextGuide.visible=!0),Math.random()<e.ENEMY_SPAWN_RATE*this.train.speed){for(var u=Math.floor((this.train.locomotive.x+this.settings.width)/f.default.PIECE_WIDTH),c=Object.keys(this.world.rails[u]),h=parseInt(c[Math.floor(Math.random()*c.length)],10),d=new l.default(this.world,u,h,l.default.LEFT,!0);Math.random()<e.ENEMY_SPAWN_CARTS_PROB;)d.addCart();this.world.trains.addChild(d)}if(this.keySpace.isDown)if(this.train.isCrashed){var p=Math.floor(this.train.locomotive.x/(f.default.PIECE_WIDTH*e.SCORE_SPEED));this.stages.getStage("topScore").addScore(p),this.stages.changeStage("topScore")}else this.restart()}},{key:"restart",value:function(){this.unload(),this.load()}},{key:"unload",value:function(){this.removeChild(this.background),this.removeChild(this.world),this.removeChild(this.switchCursor),this.removeChild(this.cartsText),this.removeChild(this.scoreText),this.removeChild(this.crashedText),this.removeChild(this.crashedTextGuide),this.removeChild(this.quideText),this.keyUp.close(),this.keyDown.close(),this.keyLeft.close(),this.keyRight.close(),this.keySpace.close(),this.keyUp=void 0,this.keyDown=void 0,this.keyLeft=void 0,this.keyRight=void 0,this.keySpace=void 0,this.background=void 0,this.world=void 0,this.train=void 0,this.switchCursor=void 0,this.cartsText=void 0,this.scoreText=void 0,this.crashedText=void 0,this.crashedTextGuide=void 0,this.quideText=void 0}}]),e}(PIXI.Container);e.default=y,y.SCORE_SPEED=3,y.CAMERA_CENTER_PERC=.21,y.BACKGROUND_COLOR=16777215,y.ENEMY_SPAWN_RATE=.002,y.ENEMY_SPAWN_CARTS_PROB=.2},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),f=r(u),c=function(t){function e(t,n,r){i(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.stages=t,a.topScore=n,a.settings=r,a.myScore=-1,a}return a(e,t),s(e,[{key:"addScore",value:function(t){this.topScore.addScore(t),this.myScore=this.topScore.getTop(e.TOP_COUNT).indexOf(t)}},{key:"load",value:function(){var t=this;this.background=new PIXI.Graphics,this.background.beginFill(e.BACKGROUND_COLOR),this.background.drawRect(0,0,this.settings.width,this.settings.height),this.scores=new PIXI.Container;var n=0;this.topScore.getTop(e.TOP_COUNT).forEach(function(e){var r=n%10,i=Math.floor(n/10),o="#E1303C";t.myScore===n&&(o="#9FBC12");var a=new PIXI.Text(e,new PIXI.TextStyle({fontSize:14,fill:o}));a.x=(r+1)*(t.settings.width/11),a.y=(i+1)*(t.settings.height/6),a.anchor.x=.5,a.anchor.y=.5,t.scores.addChild(a),n++}),this.crashedTextGuide=new PIXI.Text("Press space to continue",new PIXI.TextStyle({fontSize:14,fill:"#9FBC12"})),this.crashedTextGuide.x=this.settings.width/2,this.crashedTextGuide.y=this.settings.height-16,this.crashedTextGuide.anchor.x=.5,this.crashedTextGuide.anchor.y=1,this.gameByText=new PIXI.Text("Game by Ienze (Dominik Gmiterko)",new PIXI.TextStyle({fontSize:10,fill:"#9FBC12"})),this.gameByText.x=16,this.gameByText.y=this.settings.height-16,this.gameByText.anchor.x=0,this.gameByText.anchor.y=1,this.gameByText.interactive=!0,this.gameByText.buttonMode=!0,this.gameByText.click=function(){var t=window.open("http://ienze.me","_blank");t.focus()},this.gameAtText=new PIXI.Text("play at ienze.me/trainwreck",new PIXI.TextStyle({fontSize:10,fill:"#9FBC12"})),this.gameAtText.x=this.settings.width-16,this.gameAtText.y=this.settings.height-16,this.gameAtText.anchor.x=1,this.gameAtText.anchor.y=1,this.addChild(this.background),this.addChild(this.scores),this.addChild(this.crashedTextGuide),this.addChild(this.gameByText),this.addChild(this.gameAtText),this.keySpace=new f.default(32)}},{key:"tick",value:function(){this.keySpace.isDown&&this.stages.changeStage("play")}},{key:"unload",value:function(){this.removeChild(this.background),this.removeChild(this.scores),this.removeChild(this.crashedTextGuide),this.removeChild(this.gameByText),this.removeChild(this.gameAtText),this.keySpace.close(),this.keySpace=void 0,this.background=void 0,this.scores=void 0,this.crashedTextGuide=void 0,this.gameByText=void 0,this.gameAtText=void 0}}]),e}(PIXI.Container);e.default=c,c.BACKGROUND_COLOR=16777215,c.TOP_COUNT=40},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),s=r(a),u=function(){function t(){i(this,t),this.to=[],this.from=[],this.isSwitch=!1,this.isEmpty=!0,this.isCart=!1,this.switched={from:void 0,to:void 0}}return o(t,[{key:"addTo",value:function(t){this.to.push(t),this.to.sort(function(t,e){return t-e}),this.onRailAdded()}},{key:"addFrom",value:function(t){this.from.push(t),this.from.sort(function(t,e){return t-e}),this.onRailAdded()}},{key:"onRailAdded",value:function(){this.isEmpty=!1,this.isSwitch=this.railsCount()>2,this.isSwitch&&(this.switched={from:Math.floor(Math.random()*this.from.length),to:Math.floor(Math.random()*this.to.length)})}},{key:"isConnectedTo",value:function(t){return this.to.indexOf(t)>=0}},{key:"getTo",value:function(){return this.isSwitch?this.to[this.switched.to]:this.to.length>0?this.to[0]:void 0}},{key:"getFrom",value:function(){return this.isSwitch?this.from[this.switched.from]:this.from.length>0?this.from[0]:void 0}},{key:"switchPrefered",value:function(t,e){t===s.default.RIGHT?this.to.length>=2?this.switchTo(e):this.switchFrom(e):this.from.length>=2?this.switchFrom(e):this.switchTo(e)}},{key:"switchTo",value:function(t){this.switched.to=t}},{key:"switchFrom",value:function(t){this.switched.from=t}},{key:"railsCount",value:function(){return this.from.length+this.to.length}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),f=r(u),c=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.train=t,n.cursor=void 0,n.cursorX=0,n.cursorY=0,n.path=void 0,n.path=new PIXI.Graphics,n.displayPath(),n.addChild(n.path),n.display(),n.recalculatePosition(),n}return a(e,t),s(e,[{key:"recalculatePosition",value:function(){for(var t=Math.floor(this.train.locomotive.x/f.default.PIECE_WIDTH),e=t+1;e<this.train.world.rails.length&&e<this.train.path.length&&this.train.world.rails[e][this.train.path[e]]&&this.train.world.rails[e][this.train.path[e]].to.length<2;)e++;this.cursorX=e,this.cursorY=this.train.path[e],this.cursor.x=this.cursorX*f.default.PIECE_WIDTH+f.default.PIECE_WIDTH2,this.cursor.y=this.cursorY*f.default.PIECE_HEIGHT+f.default.PIECE_HEIGHT2}},{key:"display",value:function(){var t=new PIXI.Graphics;t.width=e.SIZE,t.height=e.SIZE,t.lineStyle(e.WIDTH,e.CURSOR_COLOR),t.drawEllipse(0,0,e.SIZE,e.SIZE);for(var n=0;n<4;n++){var r=Math.cos(n/2*Math.PI+Math.PI/4),i=Math.sin(n/2*Math.PI+Math.PI/4);t.moveTo(r*e.SIZE*.5,i*e.SIZE*.5),t.lineTo(r*e.SIZE*1.3,i*e.SIZE*1.3)}t.endFill(),this.cursor=t,this.addChild(t)}},{key:"displayPath",value:function(){this.path.clear(),this.path.lineStyle(7,14757948,.5),this.path.moveTo(f.default.PIECE_WIDTH,f.default.PIECE_HEIGHT2);for(var t=0;t<this.train.path.length;t++)this.path.lineTo(f.default.PIECE_WIDTH*t+f.default.PIECE_WIDTH2,f.default.PIECE_HEIGHT*this.train.path[t]+f.default.PIECE_HEIGHT2);this.path.endFill()}},{key:"switchCursor",value:function(t){if(void 0!==this.cursorX&&void 0!==this.cursorY){var e=this.train.world.rails[this.cursorX][this.cursorY],n=e.getTo(),r=e.getFrom();e.switchPrefered(this.train.direction,t),n===e.getTo()&&r===e.getFrom()||(this.train.recalculatePath(this.cursorX),this.displayPath())}}}]),e}(PIXI.Container);e.default=c,c.WIDTH=2,c.SIZE=15,c.CURSOR_COLOR=10468370},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{
value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(13),s=r(a),u=function(){function t(){i(this,t),this.rails=[],this.rails.push({0:new s.default}),this.generated={from:0,to:0},this.initGenarator()}return o(t,[{key:"generateNext",value:function(e){for(var n=this,r=Math.floor(e/2),i={},o=-r;o<=r;o++)i[o]=new s.default;this.rails.push(i);var a=this.rails[this.rails.length-2];Object.keys(a).forEach(function(t){t=parseInt(t,10);var e=n.railGenerators.filter(function(e){return e.canUse(a,i,t)});if(e.length>0){var r=e[Math.floor(Math.random()*e.length)];r.use(a,i,t)}}),Object.keys(i).forEach(function(e){e=parseInt(e,10);var n=i[e];Math.random()<t.EMPTY_CART_PROBABILITY&&(n.isCart=!0)})}},{key:"clamp",value:function(t,e){for(var n=this.generated.to;n<e;n++){var r=function(t,e){if(void 0===e)return Math.pow(Math.abs(Math.sin(t)),2);var n=Math.pow(Math.abs(Math.sin(t)),2);return e+n*(1-e)},i=5*r(n/321,.3)*Math.min(1,r((n+1)/10)+r((n-64)/41))*r(10*Math.sin(n/51),.5);i=Math.min(9,2*Math.floor(i)+1),this.generateNext(i)}this.generated.to=e}},{key:"initGenarator",value:function(){var t=this;this.railGenerators=[];var e=function(e,n){for(var r=0;r<n;r++)t.railGenerators.push(e)};e({canUse:function(t,e,n){return void 0!==e[n]},use:function(e,n,r){t.connectRails(e[r],r,n[r],r)}},8),e({canUse:function(t,e,n){return void 0!==e[n+1]},use:function(e,n,r){t.connectRails(e[r],r,n[r+1],r+1)}},2),e({canUse:function(t,e,n){return void 0!==e[n-1]},use:function(e,n,r){t.connectRails(e[r],r,n[r-1],r-1)}},2),e({canUse:function(t,e,n){return void 0!==e[n]&&void 0!==e[n+1]&&e[n+1].railsCount()<=2&&e[n].railsCount()<=2&&t[n].railsCount()<=2},use:function(e,n,r){t.connectRails(e[r],r,n[r+1],r+1),t.connectRails(e[r],r,n[r],r)}},3),e({canUse:function(t,e,n){return void 0!==e[n]&&void 0!==e[n-1]&&e[n-1].railsCount()<=2&&e[n].railsCount()<=2&&t[n].railsCount()<=2},use:function(e,n,r){t.connectRails(e[r],r,n[r-1],r-1),t.connectRails(e[r],r,n[r],r)}},3)}},{key:"connectRails",value:function(t,e,n,r){t.addTo(r),n.addFrom(e)}}]),t}();e.default=u,u.EMPTY_CART_PROBABILITY=.1},function(t,e,n){var r,i;(function(t){(function(){var n,o,a,s,u,f,c,l,h,d,p,b,y,v,g,m,w,_,E,T,I,C,P,x,k,S,O,R,A,H,M,D,j,B,G,N,U,W,L,X,F,q,Y,K,z,Z,V,J,$,Q,tt,et,nt,rt,it,ot,at,st,ut,ft,ct,lt,ht,dt,pt,bt,yt,vt,gt,mt,wt,_t,Et,Tt,It,Ct,Pt,xt,kt=[].slice;Tt=function(){var t,e,n,r,i;for(t={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,e=i.length;r<e;r++)n=i[r],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),z=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),t<e&&(t=e),t>n&&(t=n),t},It=function(t){return t.length>=3?[].slice.call(t):t[0]},T=function(t){var e;for(e in t)e<3?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},s=Math.PI,gt=Math.round,P=Math.cos,R=Math.floor,rt=Math.pow,Z=Math.log,wt=Math.sin,_t=Math.sqrt,y=Math.atan2,$=Math.max,b=Math.abs,c=2*s,u=s/3,o=s/180,f=180/s,E=function(){return arguments[0]instanceof n?arguments[0]:function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,arguments,function(){})},p=[],"undefined"!=typeof t&&null!==t&&null!=t.exports&&(t.exports=E),r=[],i=function(){return E}.apply(e,r),!(void 0!==i&&(t.exports=i)),E.version="1.2.1",d={},l=[],h=!1,n=function(){function t(){var t,e,n,r,i,o,a,s,u;for(o=this,e=[],s=0,r=arguments.length;s<r;s++)t=arguments[s],null!=t&&e.push(t);if(a=e[e.length-1],null!=d[a])o._rgb=T(d[a](It(e.slice(0,-1))));else{for(h||(l=l.sort(function(t,e){return e.p-t.p}),h=!0),u=0,i=l.length;u<i&&(n=l[u],!(a=n.test.apply(n,e)));u++);a&&(o._rgb=T(d[a].apply(d,e)))}null==o._rgb&&console.warn("unknown format: "+e),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.toString=function(){return this.name()},t}(),E._input=d,E.brewer=w={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ct={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},E.colors=C=Ct,X=function(){var t,e,n,r,i,o,s,u,f;return e=It(arguments),i=e[0],t=e[1],n=e[2],u=(i+16)/116,s=isNaN(t)?u:u+t/500,f=isNaN(n)?u:u-n/200,u=a.Yn*F(u),s=a.Xn*F(s),f=a.Zn*F(f),o=xt(3.2404542*s-1.5371385*u-.4985314*f),r=xt(-.969266*s+1.8760108*u+.041556*f),n=xt(.0556434*s-.2040259*u+1.0572252*f),o=z(o,0,255),r=z(r,0,255),n=z(n,0,255),[o,r,n,e.length>3?e[3]:1]},xt=function(t){return gt(255*(t<=.00304?12.92*t:1.055*rt(t,1/2.4)-.055))},F=function(t){return t>a.t1?t*t*t:a.t2*(t-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ct=function(){var t,e,n,r,i,o,a,s;return r=It(arguments),n=r[0],e=r[1],t=r[2],i=bt(n,e,t),o=i[0],a=i[1],s=i[2],[116*a-16,500*(o-a),200*(a-s)]},yt=function(t){return(t/=255)<=.04045?t/12.92:rt((t+.055)/1.055,2.4)},Pt=function(t){return t>a.t3?rt(t,1/3):t/a.t2+a.t0},bt=function(){var t,e,n,r,i,o,s;return r=It(arguments),n=r[0],e=r[1],t=r[2],n=yt(n),e=yt(e),t=yt(t),i=Pt((.4124564*n+.3575761*e+.1804375*t)/a.Xn),o=Pt((.2126729*n+.7151522*e+.072175*t)/a.Yn),s=Pt((.0193339*n+.119192*e+.9503041*t)/a.Zn),[i,o,s]},E.lab=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["lab"]),function(){})},d.lab=X,n.prototype.lab=function(){return ct(this._rgb)},v=function(t){var e,n,r,i,o,a,s,u,f,c,l;return t=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(E(i));return r}(),2===t.length?(f=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),o=f[0],a=f[1],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push(o[e]+t*(a[e]-o[e]));return r}(),E.lab.apply(E,n)}):3===t.length?(c=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),o=c[0],a=c[1],s=c[2],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push((1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]);return r}(),E.lab.apply(E,n)}):4===t.length?(l=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),o=l[0],a=l[1],s=l[2],u=l[3],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*u[e]);return r}(),E.lab.apply(E,n)}):5===t.length&&(n=v(t.slice(0,3)),r=v(t.slice(2,5)),e=function(t){return t<.5?n(2*t):r(2*(t-.5))}),e},E.bezier=function(t){var e;return e=v(t),e.scale=function(){return E.scale(e)},e},E.cubehelix=function(t,e,n,r,i){var o,a,s;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),a=i[1]-i[0],o=0,s=function(s){var u,f,l,h,d,p,b,y,v;return u=c*((t+120)/360+e*s),b=rt(i[0]+a*s,r),p=0!==o?n[0]+s*o:n,f=p*b*(1-b)/2,h=P(u),v=wt(u),y=b+f*(-.14861*h+1.78277*v),d=b+f*(-.29227*h-.90649*v),l=b+f*(1.97294*h),E(T([255*y,255*d,255*l]))},s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:(n=t,"array"===Tt(n)?(o=n[1]-n[0],0===o&&(n=n[1])):o=0,s)},s.lightness=function(t){return null==t?i:(i=t,"array"===Tt(i)?(a=i[1]-i[0],0===a&&(i=i[1])):a=0,s)},s.scale=function(){return E.scale(s)},s.hue(n),s},E.random=function(){var t,e,r,i;for(e="0123456789abcdef",t="#",r=i=0;i<6;r=++i)t+=e.charAt(R(16*Math.random()));return new n(t)},E.average=function(t){var e,r,i,o,a,s,u,f,c;for(f=o=r=e=0,a=t.length,u=0,s=t.length;u<s;u++)i=t[u],c=E(i).rgba(),f+=c[0],o+=c[1],r+=c[2],e+=c[3];return new n(f/a,o/a,r/a,e/a)},d.rgb=function(){var t,e,n,r;e=It(arguments),n=[];for(t in e)r=e[t],n.push(r);return n},E.rgb=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["rgb"]),function(){})},n.prototype.rgb=function(){return this._rgb.slice(0,3)},n.prototype.rgba=function(){return this._rgb},l.push({p:15,test:function(t){var e;return e=It(arguments),"array"===Tt(e)&&3===e.length?"rgb":4===e.length&&"number"===Tt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),A=function(t){var e,n,r,i,o,a;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),a=parseInt(t,16),i=a>>16,r=a>>8&255,n=255&a,[i,r,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),a=parseInt(t,16),i=a>>24&255,r=a>>16&255,n=a>>8&255,e=gt((255&a)/255*100)/100,[i,r,n,e];if(null!=d.css&&(o=d.css(t)))return o;throw"unknown color: "+t},at=function(t,e){var n,r,i,o,a,s,u;return null==e&&(e="rgb"),a=t[0],i=t[1],r=t[2],n=t[3],u=a<<16|i<<8|r,s="000000"+u.toString(16),s=s.substr(s.length-6),o="0"+gt(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},d.hex=function(t){return A(t)},E.hex=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["hex"]),function(){})},n.prototype.hex=function(t){return null==t&&(t="rgb"),at(this._rgb,t)},l.push({p:10,test:function(t){if(1===arguments.length&&"string"===Tt(t))return"hex"}}),D=function(){var t,e,n,r,i,o,a,s,u,f,c,l,h,d;if(t=It(arguments),i=t[0],c=t[1],a=t[2],0===c)u=r=e=255*a;else{for(d=[0,0,0],n=[0,0,0],h=a<.5?a*(1+c):a+c-a*c,l=2*a-h,i/=360,d[0]=i+1/3,d[1]=i,d[2]=i-1/3,o=s=0;s<=2;o=++s)d[o]<0&&(d[o]+=1),d[o]>1&&(d[o]-=1),6*d[o]<1?n[o]=l+6*(h-l)*d[o]:2*d[o]<1?n[o]=h:3*d[o]<2?n[o]=l+(h-l)*(2/3-d[o])*6:n[o]=l;f=[gt(255*n[0]),gt(255*n[1]),gt(255*n[2])],u=f[0],r=f[1],e=f[2]}return t.length>3?[u,r,e,t[3]]:[u,r,e]},ut=function(t,e,n){var r,i,o,a,s;return void 0!==t&&t.length>=3&&(a=t,t=a[0],e=a[1],n=a[2]),t/=255,e/=255,n/=255,o=Math.min(t,e,n),$=Math.max(t,e,n),i=($+o)/2,$===o?(s=0,r=Number.NaN):s=i<.5?($-o)/($+o):($-o)/(2-$-o),t===$?r=(e-n)/($-o):e===$?r=2+(n-t)/($-o):n===$&&(r=4+(t-e)/($-o)),r*=60,r<0&&(r+=360),[r,s,i]},E.hsl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["hsl"]),function(){})},d.hsl=D,n.prototype.hsl=function(){return ut(this._rgb)},j=function(){var t,e,n,r,i,o,a,s,u,f,c,l,h,d,p,b,y,v;if(t=It(arguments),i=t[0],b=t[1],v=t[2],v*=255,0===b)u=r=e=v;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60,o=R(i),n=i-o,a=v*(1-b),s=v*(1-b*n),y=v*(1-b*(1-n)),o){case 0:f=[v,y,a],u=f[0],r=f[1],e=f[2];break;case 1:c=[s,v,a],u=c[0],r=c[1],e=c[2];break;case 2:l=[a,v,y],u=l[0],r=l[1],e=l[2];break;case 3:h=[a,s,v],u=h[0],r=h[1],e=h[2];break;case 4:d=[y,a,v],u=d[0],r=d[1],e=d[2];break;case 5:p=[v,a,s],u=p[0],r=p[1],e=p[2]}return u=gt(u),r=gt(r),e=gt(e),[u,r,e,t.length>3?t[3]:1]},ft=function(){var t,e,n,r,i,o,a,s,u;return a=It(arguments),o=a[0],n=a[1],t=a[2],i=Math.min(o,n,t),$=Math.max(o,n,t),e=$-i,u=$/255,0===$?(r=Number.NaN,s=0):(s=e/$,o===$&&(r=(n-t)/e),n===$&&(r=2+(t-o)/e),t===$&&(r=4+(o-n)/e),r*=60,r<0&&(r+=360)),[r,s,u]},E.hsv=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["hsv"]),function(){})},d.hsv=j,n.prototype.hsv=function(){return ft(this._rgb)},et=function(t){var e,n,r;return"number"===Tt(t)&&t>=0&&t<=16777215?(r=t>>16,n=t>>8&255,e=255&t,[r,n,e,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},dt=function(){var t,e,n,r;return r=It(arguments),n=r[0],e=r[1],t=r[2],(n<<16)+(e<<8)+t},E.num=function(t){return new n(t,"num")},n.prototype.num=function(t){return null==t&&(t="rgb"),dt(this._rgb,t)},d.num=et,l.push({p:10,test:function(t){if(1===arguments.length&&"number"===Tt(t)&&t>=0&&t<=16777215)return"num"}}),x=function(t){var e,n,r,i,o,a,s,u;if(t=t.toLowerCase(),null!=E.colors&&E.colors[t])return A(E.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;a<=2;i=++a)s[i]=+s[i];s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=u=0;u<=3;i=++u)s[i]=+s[i];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=e=0;e<=2;i=++e)s[i]=gt(2.55*s[i]);s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=n=0;n<=2;i=++n)s[i]=gt(2.55*s[i]);s[3]=+s[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=D(r),s[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=D(r),s[3]=+o[4]);return s},ot=function(t){var e;return e=t[3]<1?"rgba":"rgb","rgb"===e?e+"("+t.slice(0,3).map(gt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(gt).join(",")+","+t[3]+")":void 0},vt=function(t){return gt(100*t)/100},M=function(t,e){var n;return n=e<1?"hsla":"hsl",t[0]=vt(t[0]||0),t[1]=vt(100*t[1])+"%",t[2]=vt(100*t[2])+"%","hsla"===n&&(t[3]=e),n+"("+t.join(",")+")"},d.css=function(t){return x(t)},E.css=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["css"]),function(){})},n.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?ot(this._rgb):"hsl"===t.slice(0,3)?M(this.hsl(),this.alpha()):void 0},d.named=function(t){return A(Ct[t])},l.push({p:20,test:function(t){if(1===arguments.length&&null!=Ct[t])return"named"}}),n.prototype.name=function(t){var e,n;arguments.length&&(Ct[t]&&(this._rgb=A(Ct[t])),this._rgb[3]=1),e=this.hex();for(n in Ct)if(e===Ct[n])return n;return e},q=function(){var t,e,n,r;return r=It(arguments),n=r[0],t=r[1],e=r[2],e*=o,[n,P(e)*t,wt(e)*t]},Y=function(){var t,e,n,r,i,o,a,s,u,f,c;return n=It(arguments),s=n[0],i=n[1],a=n[2],f=q(s,i,a),t=f[0],e=f[1],r=f[2],c=X(t,e,r),u=c[0],o=c[1],r=c[2],[z(u,0,255),z(o,0,255),z(r,0,255),n.length>3?n[3]:1]},L=function(){var t,e,n,r,i,o;return o=It(arguments),i=o[0],t=o[1],e=o[2],n=_t(t*t+e*e),r=(y(e,t)*f+360)%360,0===gt(1e4*n)&&(r=Number.NaN),[i,n,r]},lt=function(){var t,e,n,r,i,o,a;return o=It(arguments),i=o[0],n=o[1],e=o[2],a=ct(i,n,e),r=a[0],t=a[1],e=a[2],L(r,t,e)},E.lch=function(){var t;return t=It(arguments),new n(t,"lch")},E.hcl=function(){var t;return t=It(arguments),new n(t,"hcl")},d.lch=Y,d.hcl=function(){var t,e,n,r;return r=It(arguments),e=r[0],t=r[1],n=r[2],Y([n,t,e])},n.prototype.lch=function(){return lt(this._rgb)},n.prototype.hcl=function(){return lt(this._rgb).reverse()},it=function(t){var e,n,r,i,o,a,s,u,f;return null==t&&(t="rgb"),u=It(arguments),s=u[0],i=u[1],e=u[2],s/=255,i/=255,e/=255,o=1-Math.max(s,Math.max(i,e)),r=o<1?1/(1-o):0,n=(1-s-o)*r,a=(1-i-o)*r,f=(1-e-o)*r,[n,a,f,o]},I=function(){var t,e,n,r,i,o,a,s,u;return e=It(arguments),r=e[0],a=e[1],u=e[2],o=e[3],t=e.length>4?e[4]:1,1===o?[0,0,0,t]:(s=r>=1?0:gt(255*(1-r)*(1-o)),i=a>=1?0:gt(255*(1-a)*(1-o)),n=u>=1?0:gt(255*(1-u)*(1-o)),[s,i,n,t])},d.cmyk=function(){return I(It(arguments))},E.cmyk=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["cmyk"]),function(){})},n.prototype.cmyk=function(){return it(this._rgb)},d.gl=function(){var t,e,n,r,i;for(r=function(){var t,n;t=It(arguments),n=[];for(e in t)i=t[e],n.push(i);return n}.apply(this,arguments),t=n=0;n<=2;t=++n)r[t]*=255;return r},E.gl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["gl"]),function(){})},n.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},ht=function(t,e,n){var r;return r=It(arguments),t=r[0],e=r[1],n=r[2],t=V(t),e=V(e),n=V(n),.2126*t+.7152*e+.0722*n},V=function(t){return t/=255,t<=.03928?t/12.92:rt((t+.055)/1.055,2.4)},p=[],B=function(t,e,n,r){var i,o,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Tt(t)&&(t=E(t)),"object"!==Tt(e)&&(e=E(e)),a=0,o=p.length;a<o;a++)if(i=p[a],r===i[0]){s=i[1](t,e,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(t.alpha()+n*(e.alpha()-t.alpha())),s},E.interpolate=B,n.prototype.interpolate=function(t,e,n){return B(this,t,e,n)},E.mix=B,n.prototype.mix=n.prototype.interpolate,W=function(t,e,r,i){var o,a;return o=t._rgb,a=e._rgb,new n(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},p.push(["rgb",W]),n.prototype.luminance=function(t,e){var n,r,i,o;return null==e&&(e="rgb"),arguments.length?(0===t?this._rgb=[0,0,0,this._rgb[3]]:1===t?this._rgb=[255,255,255,this._rgb[3]]:(r=1e-7,i=20,o=function(n,a){var s,u;return u=n.interpolate(a,.5,e),s=u.luminance(),Math.abs(t-s)<r||!i--?u:s>t?o(n,u):o(u,a)},n=ht(this._rgb),this._rgb=(n>t?o(E("black"),this):o(this,E("white"))).rgba()),this):ht(this._rgb)},Et=function(t){var e,n,r,i;return i=t/100,i<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Z(n),e=i<20?0:-254.76935184120902+.8274096064007395*(e=i-10)+115.67994401066147*Z(e)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*Z(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Z(n),e=255),T([r,n,e])},pt=function(){var t,e,n,r,i,o,a,s,u;for(a=It(arguments),o=a[0],n=a[1],t=a[2],i=1e3,r=4e4,e=.4;r-i>e;)u=.5*(r+i),s=Et(u),s[2]/s[0]>=t/o?r=u:i=u;return gt(u)},E.temperature=E.kelvin=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=Et,n.prototype.temperature=function(){return pt(this._rgb)},n.prototype.kelvin=n.prototype.temperature,E.contrast=function(t,e){var r,i,o,a;return"string"!==(o=Tt(t))&&"number"!==o||(t=new n(t)),"string"!==(a=Tt(e))&&"number"!==a||(e=new n(e)),r=t.luminance(),i=e.luminance(),r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},n.prototype.get=function(t){var e,n,r,i,o,a;return r=this,o=t.split("."),i=o[0],e=o[1],a=r[i](),e?(n=i.indexOf(e),n>-1?a[n]:console.warn("unknown channel "+e+" in mode "+i)):a},n.prototype.set=function(t,e){var n,r,i,o,a,s;if(i=this,a=t.split("."),o=a[0],n=a[1],n)if(s=i[o](),r=o.indexOf(n),r>-1)if("string"===Tt(e))switch(e.charAt(0)){case"+":s[r]+=+e;break;case"-":s[r]+=+e;break;case"*":s[r]*=+e.substr(1);break;case"/":s[r]/=+e.substr(1);break;default:s[r]=+e}else s[r]=e;else console.warn("unknown channel "+n+" in mode "+o);else s=e;return i._rgb=E(s,o).alpha(i.alpha())._rgb,i},n.prototype.darken=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lab(),e[0]-=a.Kn*t,E.lab(e).alpha(n.alpha())},n.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lch(),e[1]+=t*a.Kn,e[1]<0&&(e[1]=0),E.lch(e).alpha(n.alpha())},n.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},n.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),E(e[0]*t,e[1]*t,e[2]*t,t)},g=function(t,e,n){if(!g[n])throw"unknown blend mode "+n;return g[n](t,e)},m=function(t){return function(e,n){var r,i;return r=E(n).rgb(),i=E(e).rgb(),E(t(r,i),"rgb")}},O=function(t){return function(e,n){var r,i,o;for(o=[],r=i=0;i<=3;r=++i)o[r]=t(e[r],n[r]);return o}},tt=function(t,e){return t},Q=function(t,e){return t*e/255},k=function(t,e){return t>e?e:t},K=function(t,e){return t>e?t:e},mt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},nt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},_=function(t,e){return 255*(1-(1-e/255)/(t/255))},S=function(t,e){return 255===t?255:(t=255*(e/255)/(1-t/255),t>255?255:t)},g.normal=m(O(tt)),g.multiply=m(O(Q)),g.screen=m(O(mt)),g.overlay=m(O(nt)),g.darken=m(O(k)),g.lighten=m(O(K)),g.dodge=m(O(S)),g.burn=m(O(_)),E.blend=g,E.analyze=function(t){var e,n,r,i;for(r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},n=0,e=t.length;n<e;n++)i=t[n],null==i||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(t,e){return E.limits(r,t,e)},r},E.scale=function(t,e){var n,r,i,o,a,s,u,f,c,l,h,d,p,b,y,v,g,m,w,_,T;return c="rgb",l=E("#ccc"),b=0,s=!1,a=[0,1],p=[],d=[0,0],n=!1,i=[],h=!1,f=0,u=1,o=!1,r={},_=function(t){var e,n,r,o,a,s,u;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Tt(t)&&null!=(null!=(o=E.brewer)?o[t]:void 0)&&(t=E.brewer[t]),"array"===Tt(t)){for(t=t.slice(0),e=r=0,a=t.length-1;0<=a?r<=a:r>=a;e=0<=a?++r:--r)n=t[e],"string"===Tt(n)&&(t[e]=E(n));for(p.length=0,e=u=0,s=t.length-1;0<=s?u<=s:u>=s;e=0<=s?++u:--u)p.push(e/(t.length-1))}return w(),i=t},g=function(t){var e,r;if(null!=n){for(r=n.length-1,e=0;e<r&&t>=n[e];)e++;return e-1}return 0},T=function(t){return t},y=function(t){var e,r,i,o,a;return a=t,n.length>2&&(o=n.length-1,e=g(t),i=n[0]+(n[1]-n[0])*(0+.5*b),r=n[o-1]+(n[o]-n[o-1])*(1-.5*b),a=f+(n[e]+.5*(n[e+1]-n[e])-i)/(r-i)*(u-f)),a},m=function(t,e){var o,a,s,h,b,y,v,m;if(null==e&&(e=!1),isNaN(t))return l;if(e?m=t:n&&n.length>2?(o=g(t),m=o/(n.length-2),m=d[0]+m*(1-d[0]-d[1])):u!==f?(m=(t-f)/(u-f),m=d[0]+m*(1-d[0]-d[1]),m=Math.min(1,Math.max(0,m))):m=1,e||(m=T(m)),h=Math.floor(1e4*m),r[h])a=r[h];else{if("array"===Tt(i))for(s=b=0,v=p.length-1;0<=v?b<=v:b>=v;s=0<=v?++b:--b){if(y=p[s],m<=y){a=i[s];break}if(m>=y&&s===p.length-1){a=i[s];break}if(m>y&&m<p[s+1]){m=(m-y)/(p[s+1]-y),a=E.interpolate(i[s],i[s+1],m,c);break}}else"function"===Tt(i)&&(a=i(m));r[h]=a}return a},w=function(){return r={}},_(t),v=function(t){var e;return e=E(m(t)),h&&e[h]?e[h]():e},v.classes=function(t){var e;return null!=t?("array"===Tt(t)?(n=t,a=[t[0],t[t.length-1]]):(e=E.analyze(a),n=0===t?[e.min,e.max]:E.limits(e,"e",t)),v):n},v.domain=function(t){var e,n,r,o,s,c,l;if(!arguments.length)return a;if(f=t[0],u=t[t.length-1],p=[],r=i.length,t.length===r&&f!==u)for(s=0,o=t.length;s<o;s++)n=t[s],p.push((n-f)/(u-f));else for(e=l=0,c=r-1;0<=c?l<=c:l>=c;e=0<=c?++l:--l)p.push(e/(r-1));return a=[f,u],v},v.mode=function(t){return arguments.length?(c=t,w(),v):c},v.range=function(t,e){return _(t,e),v},v.out=function(t){return h=t,v},v.spread=function(t){return arguments.length?(b=t,v):b},v.correctLightness=function(t){return null==t&&(t=!0),o=t,w(),T=o?function(t){var e,n,r,i,o,a,s,u,f;for(e=m(0,!0).lab()[0],n=m(1,!0).lab()[0],s=e>n,r=m(t,!0).lab()[0],o=e+(n-e)*t,i=r-o,u=0,f=1,a=20;Math.abs(i)>.01&&a-- >0;)!function(){return s&&(i*=-1),i<0?(u=t,t+=.5*(f-t)):(f=t,t+=.5*(u-t)),r=m(t,!0).lab()[0],i=r-o}();return t}:function(t){return t},v},v.padding=function(t){return null!=t?("number"===Tt(t)&&(t=[t,t]),d=t,v):d},v.colors=function(){var e,r,o,s,u,f,c,l,h;if(s=0,u="hex",0===arguments.length)return i.map(function(t){return t[u]()});if(1===arguments.length&&("string"===Tt(arguments[0])?u=arguments[0]:s=arguments[0]),2===arguments.length&&(s=arguments[0],u=arguments[1]),s)return r=a[0],e=a[1]-r,function(){c=[];for(var t=0;0<=s?t<s:t>s;0<=s?t++:t--)c.push(t);return c}.apply(this).map(function(t){return v(r+t/(s-1)*e)[u]()});if(t=[],l=[],n&&n.length>2)for(o=h=1,f=n.length;1<=f?h<f:h>f;o=1<=f?++h:--h)l.push(.5*(n[o-1]+n[o]));else l=a;return l.map(function(t){return v(t)[u]()})},v},null==E.scales&&(E.scales={}),E.scales.cool=function(){return E.scale([E.hsl(180,1,.9),E.hsl(250,.7,.4)])},E.scales.hot=function(){return E.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},E.analyze=function(t,e,n){var r,i,o,a,s,u,f;if(s={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(t){null==t||isNaN(t)||(s.values.push(t),s.sum+=t,t<s.min&&(s.min=t),t>s.max&&(s.max=t),s.count+=1)},f=function(t,i){if(n(t,i))return r(null!=e&&"function"===Tt(e)?e(t):null!=e&&"string"===Tt(e)||"number"===Tt(e)?t[e]:t)},"array"===Tt(t))for(a=0,o=t.length;a<o;a++)u=t[a],f(u);else for(i in t)u=t[i],f(u,i);return s.domain=[s.min,s.max],s.limits=function(t,e){return E.limits(s,t,e)},s},E.limits=function(t,e,n){var r,i,o,a,s,u,f,c,l,h,d,p,y,v,g,m,w,_,T,I,C,P,x,k,S,O,A,H,M,D,j,B,G,N,U,W,L,X,F,q,Y,K,z,V,J,Q,tt,et,nt,it,ot,at,st,ut,ft;if(null==e&&(e="equal"),null==n&&(n=7),"array"===Tt(t)&&(t=E.analyze(t)),S=t.min,$=t.max,ot=t.sum,ut=t.values.sort(function(t,e){return t-e}),x=[],"c"===e.substr(0,1)&&(x.push(S),x.push($)),"e"===e.substr(0,1)){for(x.push(S),I=j=1,U=n-1;1<=U?j<=U:j>=U;I=1<=U?++j:--j)x.push(S+I/n*($-S));x.push($)}else if("l"===e.substr(0,1)){if(S<=0)throw"Logarithmic scales are only possible for values > 0";for(O=Math.LOG10E*Z(S),k=Math.LOG10E*Z($),x.push(S),I=ft=1,W=n-1;1<=W?ft<=W:ft>=W;I=1<=W?++ft:--ft)x.push(rt(10,O+I/n*(k-O)));x.push($)}else if("q"===e.substr(0,1)){for(x.push(S),I=r=1,K=n-1;1<=K?r<=K:r>=K;I=1<=K?++r:--r)B=ut.length*I/n,G=R(B),G===B?x.push(ut[G]):(N=B-G,x.push(ut[G]*N+ut[G+1]*(1-N)));x.push($)}else if("k"===e.substr(0,1)){for(H=ut.length,v=new Array(H),_=new Array(n),it=!0,M=0,m=null,m=[],m.push(S),I=i=1,z=n-1;1<=z?i<=z:i>=z;I=1<=z?++i:--i)m.push(S+I/n*($-S));for(m.push($);it;){for(C=o=0,V=n-1;0<=V?o<=V:o>=V;C=0<=V?++o:--o)_[C]=0;for(I=a=0,J=H-1;0<=J?a<=J:a>=J;I=0<=J?++a:--a){for(st=ut[I],A=Number.MAX_VALUE,
C=s=0,Q=n-1;0<=Q?s<=Q:s>=Q;C=0<=Q?++s:--s)T=b(m[C]-st),T<A&&(A=T,g=C);_[g]++,v[I]=g}for(D=new Array(n),C=u=0,tt=n-1;0<=tt?u<=tt:u>=tt;C=0<=tt?++u:--u)D[C]=null;for(I=f=0,et=H-1;0<=et?f<=et:f>=et;I=0<=et?++f:--f)w=v[I],null===D[w]?D[w]=ut[I]:D[w]+=ut[I];for(C=c=0,nt=n-1;0<=nt?c<=nt:c>=nt;C=0<=nt?++c:--c)D[C]*=1/_[C];for(it=!1,C=l=0,L=n-1;0<=L?l<=L:l>=L;C=0<=L?++l:--l)if(D[C]!==m[I]){it=!0;break}m=D,M++,M>200&&(it=!1)}for(P={},C=h=0,X=n-1;0<=X?h<=X:h>=X;C=0<=X?++h:--h)P[C]=[];for(I=d=0,F=H-1;0<=F?d<=F:d>=F;I=0<=F?++d:--d)w=v[I],P[w].push(ut[I]);for(at=[],C=p=0,q=n-1;0<=q?p<=q:p>=q;C=0<=q?++p:--p)at.push(P[C][0]),at.push(P[C][P[C].length-1]);for(at=at.sort(function(t,e){return t-e}),x.push(at[0]),I=y=1,Y=at.length-1;y<=Y;I=y+=2)isNaN(at[I])||x.push(at[I])}return x},H=function(t,e,n){var r,i,o,a;return r=It(arguments),t=r[0],e=r[1],n=r[2],t/=360,t<1/3?(i=(1-e)/3,a=(1+e*P(c*t)/P(u-c*t))/3,o=1-(i+a)):t<2/3?(t-=1/3,a=(1-e)/3,o=(1+e*P(c*t)/P(u-c*t))/3,i=1-(a+o)):(t-=2/3,o=(1-e)/3,i=(1+e*P(c*t)/P(u-c*t))/3,a=1-(o+i)),a=z(n*a*3),o=z(n*o*3),i=z(n*i*3),[255*a,255*o,255*i,r.length>3?r[3]:1]},st=function(){var t,e,n,r,i,o,a,s;return a=It(arguments),o=a[0],e=a[1],t=a[2],c=2*Math.PI,o/=255,e/=255,t/=255,i=Math.min(o,e,t),r=(o+e+t)/3,s=1-i/r,0===s?n=0:(n=(o-e+(o-t))/2,n/=Math.sqrt((o-e)*(o-e)+(o-t)*(e-t)),n=Math.acos(n),t>e&&(n=c-n),n/=c),[360*n,s,r]},E.hsi=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,kt.call(arguments).concat(["hsi"]),function(){})},d.hsi=H,n.prototype.hsi=function(){return st(this._rgb)},G=function(t,e,n,r){var i,o,a,s,u,f,c,l,h,d,p,b,y;return"hsl"===r?(b=t.hsl(),y=e.hsl()):"hsv"===r?(b=t.hsv(),y=e.hsv()):"hsi"===r?(b=t.hsi(),y=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",b=t.hcl(),y=e.hcl()),"h"===r.substr(0,1)&&(a=b[0],d=b[1],f=b[2],s=y[0],p=y[1],c=y[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==f&&0!==f||"hsv"===r||(h=p)):(o=a,1!==c&&0!==c||"hsv"===r||(h=d)):(i=s>a&&s-a>180?s-(a+360):s<a&&a-s>180?s+360-a:s-a,o=a+n*i),null==h&&(h=d+n*(p-d)),u=f+n*(c-f),l=E[r](o,h,u)},p=p.concat(function(){var t,e,n,r;for(n=["hsv","hsl","hsi","hcl","lch"],r=[],e=0,t=n.length;e<t;e++)J=n[e],r.push([J,G]);return r}()),U=function(t,e,n,r){var i,o;return i=t.num(),o=e.num(),E.num(i+(o-i)*n,"num")},p.push(["num",U]),N=function(t,e,r,i){var o,a,s;return a=t.lab(),s=e.lab(),o=new n(a[0]+r*(s[0]-a[0]),a[1]+r*(s[1]-a[1]),a[2]+r*(s[2]-a[2]),i)},p.push(["lab",N])}).call(this)}).call(e,n(23)(t))},function(t,e){function n(t){var e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}t.exports=n},function(t,e){function n(t){return Math.sin(t*Math.PI/2)}t.exports=n},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(t,e){for(var r,s,u=n(t),f=1;f<arguments.length;f++){r=Object(arguments[f]);for(var c in r)o.call(r,c)&&(u[c]=r[c]);if(i){s=i(r);for(var l=0;l<s.length;l++)a.call(r,s[l])&&(u[s[l]]=r[s[l]])}}return u}},function(t,e,n){"use strict";function r(t){var e=new i(i._61);return e._81=1,e._65=t,e}var i=n(4);t.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),f=r(0),c=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return u;if(t===!0)return o;if(t===!1)return a;if(0===t)return f;if(""===t)return c;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(t){r(a,t)},n))}var u=s.then;if("function"==typeof u){var f=new i(u.bind(s));return void f.then(function(t){r(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";function r(){f=!1,s._10=null,s._97=null}function i(t){function e(e){(t.allRejections||a(l[e].error,t.whitelist||u))&&(l[e].displayId=c++,t.onUnhandled?(l[e].logged=!0,t.onUnhandled(l[e].displayId,l[e].error)):(l[e].logged=!0,o(l[e].displayId,l[e].error)))}function n(e){l[e].logged&&(t.onHandled?t.onHandled(l[e].displayId,l[e].error):l[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[e].displayId+".")))}t=t||{},f&&r(),f=!0;var i=0,c=0,l={};s._10=function(t){2===t._81&&l[t._72]&&(l[t._72].logged?n(t._72):clearTimeout(l[t._72].timeout),delete l[t._72])},s._97=function(t,n){0===t._45&&(t._72=i++,l[t._72]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._72),a(n,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):");var n=(e&&(e.stack||e))+"";n.split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(4),u=[ReferenceError,TypeError,RangeError],f=!1;e.disable=r,e.enable=i},function(t,e){(function(e){"use strict";function n(t){s.length||(a(),u=!0),s[s.length]=t}function r(){for(;f<s.length;){var t=f;if(f+=1,s[t].call(),f>c){for(var e=0,n=s.length-f;e<n;e++)s[e]=s[e+f];s.length-=f,f=0}}s.length=0,f=0,u=!1}function i(t){var e=1,n=new h(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function o(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var a,s=[],u=!1,f=0,c=1024,l="undefined"!=typeof e?e:self,h=l.MutationObserver||l.WebKitMutationObserver;a="function"==typeof h?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(e,function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function f(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&m(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function b(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];y.redirect=function(t,e){if(E.indexOf(e)===-1)throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new y(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}]);
//# sourceMappingURL=main.52ebb783.js.map